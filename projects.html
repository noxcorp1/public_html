<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">

<head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>Projects</title>
    <meta http-equiv="Content-Style-Type" content="text/css">
    <meta name="generator" content="thesitewizard.com's Layout Wizard 4.0.0">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="all" href="styles.css">
    <link rel="stylesheet" type="text/css" href="tswnavbar.css" />
</head>

<body>

    <div id="tswcontainer">
        <div id="tswheader">
            <!-- start of header section: insert your logo, etc, here -->

            <p>
                Placeholder content for your header section. Replace it with your website's logo or name or page title
                or whatever.
            </p>
            <p>&nbsp;</p>

            <!-- end of header section: insert your logo, etc, above this line -->
        </div>

        <div id="tswcontent">
            <div id="tswcontproper">
                <!-- start of content column: insert your content here -->

                <h1>Projects</h1>
                <h2>Flappy Bird</h2>
                <button onclick="init()">START</button>
                <button onclick="reset()">RESET</button>
                <button onclick="press()">JUMP</button>
                <script>
                    game = {
                        canvas: document.createElement("canvas"),
                        init: false,
                        start: function(width,height) {
                            if (!this.init) {
                                this.init = true;
                                this.canvas.width = width;
                                this.canvas.height = height;
                                this.canvas.style = "background: blue";
                                this.ctx = this.canvas.getContext("2d");
                                const place = document.getElementById("tswcontproper");
                                place.appendChild(this.canvas);
                                this.score = 0;
                                this.loop = setInterval(tick,20);
                            }
                        },
                        clear: function() {
                            this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);
                        }
                    }

                    player = {
                        size: 20,
                        x: 20,
                        y: game.canvas.height/2,
                        yvel: 0,
                        dead: false,
                        render: function() {
                            game.ctx.fillStyle = "yellow";
                            game.ctx.fillRect(this.x,this.y,this.size,this.size);
                        },
                        update: function() {
                            this.yvel -= 0.1;
                            this.y -= this.yvel;
                            if (this.y > game.canvas.height) {
                                this.dead = true;
                            }
                            if (this.x+this.size > pipe.x && this.x < pipe.x+20 && (this.y+this.size > pipe.y+pipe.gap || this.y < pipe.y-pipe.gap)) {
                                this.dead = true;
                            }
                        },
                        reset: function() {
                            this.dead = false;
                            this.x = 10;
                            this.y = game.canvas.height/2;
                            this.yvel = 0;
                        }
                    }

                    pipe = {
                        gap: 35,
                        x: game.canvas.width,
                        y: Math.floor(Math.random()*(game.canvas.height-this.gap*4))+this.gap*2,
                        render: function() {
                            game.ctx.fillStyle = "green";
                            game.ctx.fillRect(this.x,0,20,this.y-this.gap);
                            game.ctx.fillRect(this.x,this.y+this.gap,20,game.canvas.height-this.y+this.gap);
                        },
                        update: function() {
                            this.x -= 2
                            if (this.x < -20) {
                                this.reset();
                                game.score += 1
                            }
                        },
                        reset: function() {
                            this.x = game.canvas.width;
                            this.y = Math.floor(Math.random()*(game.canvas.height-this.gap*4))+this.gap*2;
                        }
                    }

                    function init() {
                        game.start(400,200);
                        pipe.reset();
                    }

                    function tick() {
                        game.clear();
                        if (!player.dead) {
                            player.update();
                            pipe.update();
                            player.render();
                            pipe.render();
                            game.ctx.font = "15px serif";
                            game.ctx.fillStyle = "white";
                            game.ctx.fillText(game.score.toString(),5,15);
                        } else {
                            game.ctx.font = "48px serif";
                            game.ctx.fillStyle = "red";
                            game.ctx.fillText("GAME OVER",50,50);
                            game.ctx.fillText("Score: "+game.score.toString(),50,90);
                        }
                    }
                
                    function press() {
                        player.yvel = 3;
                    }

                    function reset() {
                        pipe.reset()
                        player.reset()
                    }
                </script>
                <p>&nbsp;</p>

                <!-- end of content column: put your content above this line -->
            </div>
        </div>

        <div id="tswsidecol">
            <div id="tswsideproper">
                <!-- start of side column: insert your navigation menu, etc, here -->

                <div id="tswcssbuttons">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="aboutme.html">About me</a></li>
                        <li><a href="projects.html">Projects</a></li>
                    </ul>
                </div>


                <!-- end of side column: put your navigation menu, etc, above this line -->
            </div>
        </div>
        <div style="clear: both;"></div>

        <div id="tswfooter">
            <!-- start of footer section: insert your copyright notice, etc, here -->

            <p>
                Placeholder content for the footer: please replace these words with your real content.
            </p>

            <!-- end of footer section: insert your copyright notice, etc, above this line -->
        </div>

    </div>

</body>

</html>